{% extends 'base.html' %}
{% block style %}
<style>
  .responsive-iframe {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 100%;
  }
  .iframe {
    position: relative;
    overflow: hidden;
    width: 100%;
    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */
  }

  .card-img-top {
    width: 100%;
    height: 20vw;
    object-fit: cover;
  }

  .selected-movie{
    transition: all 0.2s linear;
    z-index: 1;
  }
  .selected-movie:hover{
    transform: scale(1.3);
    z-index: 2;
  }

  .menu-links-1, .menu-links-2, .menu-links-3, .menu-links-4{
    color: black;
  }
</style>
{% endblock style %}

{% block content %}
<div class="">
  <div class="card mb-3 mt-5">
    <div class="row g-4">
      <div class="col-md-4">
        <img class="img-fluid" style="" src="https://image.tmdb.org/t/p/w500/{{ movie.0.poster_path }}">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h3 class="card-title mt-1 mb-4">{{ movie.0.title }}</h3>
          <div class="d-flex mx-auto mb-4">
            <p class="my-auto fs-5 text-muted me-5">개봉</p>
            <p class="my-auto card-title">{{ movie.0.release_date }}</p>

            <p class="my-auto fs-5 text-muted ms-5 me-3">평점</p>
            <p class="my-auto fs-5 card-title">{{ movie.0.vote_average }}</p>

          </div>

          <div class="d-flex mb-4">
            <p class="my-auto fs-5 text-muted me-5">장르</p>
            <p class="my-auto me-3">
              {% for a in movie.0.genres %}{{ a.name }} {% endfor %}
            </p>
            <p class="my-auto fs-5 text-muted ">러닝타임: {{ movie.0.runtime }}</p>
          </div>

          <p class="fs-5 text-muted card-text mb-4">줄거리</p>
          <p class="card-text">{{ movie.0.overview}}</p>
        </div>
      </div>
    </div>
  </div>


  <div class="mt-4 iframe">
    <h1>예고편</h1>
    <iframe class="responsive-iframe" width="900rem" height="500rem"src="//www.youtube.com/embed/{{ movie.0.video_path }}" frameborder="0" allowfullscreen></iframe>
  </div>

  <h1 class="mt-5">관련 영화</h1>
  <div class="d-flex justify-content-between">
    {% for same_movie in same_genres %}
    <a href="{% url 'movies:movie_detail' same_movie.id %}"><img class="selected-movie img-fluid card-img-top" style="" src="https://image.tmdb.org/t/p/w500/{{ same_movie.poster_path }}"></a>
    {% endfor %}
  </div>



  {% comment %} 리뷰 쓰기!!! -> 버튼 눌렀을 시 community create로 이동 {% endcomment %}
  <div class="d-flex justify-content-end mt-3">
    <a href="{% url 'community:create_review' movie.0.id %}" type="button" class="btn btn-primary">리뷰 쓰기</a>
  </div>
</div>
{% endblock content %}
{% block script %}

{% endblock script %}